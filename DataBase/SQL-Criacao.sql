CREATE TABLE IF NOT EXISTS cliente(
	id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	cpf VARCHAR(11) NOT NULL,
	email VARCHAR(50) NOT NULL,
	celular VARCHAR(11) NOT NULL,
	revendedor Boolean DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS endereco(
	id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	logradouro VARCHAR(100) NOT NULL,
	numero INTEGER NOT NULL,
	complemento VARCHAR(50) NOT NULL,
	cep INTEGER NOT NULL,
	id_cliente BIGINT NOT NULL,
	FOREIGN KEY(id_cliente) REFERENCES cliente(id)
);

CREATE TABLE IF NOT EXISTS categoria (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(50) NOT NULL,
	descricao VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS produto(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	nome VARCHAR(50) NOT NULL,
	descricao VARCHAR(100) NOT NULL,
	marca VARCHAR(50) NOT NULL,
	estoque INTEGER NOT NULL,
	cod_anvisa INTEGER NOT NULL,
	valor DECIMAL NOT NULL,
	id_categoria INTEGER NOT NULL,
	FOREIGN KEY (id_categoria) REFERENCES categoria(id)
);

CREATE TABLE IF NOT EXISTS depoimento(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	mensagem VARCHAR(400) NOT NULL,
	id_cliente BIGINT NOT NULL,
	id_produto INTEGER NOT NULL,
	FOREIGN KEY(id_cliente) REFERENCES cliente(id),
	FOREIGN KEY(id_produto) REFERENCES produto(id)
);

CREATE TABLE IF NOT EXISTS pagamento(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	tipo VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS pedido(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	total DECIMAL,
	data DATE,
	id_cliente BIGINT NOT NULL,
	id_pagamento INTEGER NOT NULL,
	FOREIGN KEY(id_cliente) REFERENCES cliente(id),
	FOREIGN KEY(id_pagamento) REFERENCES pagamento(id)
);

CREATE TABLE IF NOT EXISTS carrinho(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	unidades INTEGER NOT NULL,
	id_produto INTEGER NOT NULL,
	id_pedido INTEGER NOT NULL,
	FOREIGN KEY(id_produto) REFERENCES produto(id),
	FOREIGN KEY(id_pedido) REFERENCES pedido(id)
);